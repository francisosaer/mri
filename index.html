<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MRI vragenlijst</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f7f7f7;
  padding: 20px;
}

/* ===== FORM ===== */
form {
  max-width: 650px;
  margin: auto;
  background: #fff;
  padding: 25px;
  border-radius: 10px;
}

/* ===== LOGO ===== */
.logo-container {
  text-align: center;
  margin-bottom: 10px;
}

.logo-container img {
  max-width: 180px;
  height: auto;
}

/* ===== SCHEIDINGSLIJN ===== */
.divider {
  height: 1px;
  background: #ddd;
  margin: 15px 0 25px 0;
}

/* ===== TITELS & LABELS ===== */
h1 {
  text-align: center;
  margin-bottom: 20px;
}

label {
  display: block;
  margin-top: 15px;
}

select,
input[type="text"] {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  font-size: 16px;
}

/* ===== VRAGEN ===== */
.question {
  font-weight: bold;
  margin-top: 25px;
}

.options {
  display: flex;
  gap: 30px;
  margin-top: 8px;
}

/* ===== BUTTON ===== */
button {
  margin-top: 30px;
  width: 100%;
  padding: 14px;
  font-size: 18px;
  border: none;
  border-radius: 6px;
  background: #ccc;
  color: #666;
}

button.enabled {
  background: #007bff;
  color: white;
  cursor: pointer;
}

/* ===== TOESTEMMING ===== */
.consent {
  margin-top: 25px;
  font-size: 14px;
}

/* ===== FOOTER ===== */
.footer {
  text-align: center;
  font-size: 12px;
  color: #666;
  margin-top: 30px;
}
</style>
</head>

<body>

<form id="mriForm"
      action="https://formspree.io/f/mdaaznay"
      method="POST">

  <!-- LOGO -->
  <div class="logo-container">
    <img src="sjabloonalma.png" alt="Ziekenhuislogo">
  </div>

  <div class="divider"></div>

  <h1 id="title"></h1>

  <!-- TAAL -->
  <label id="labelLang"></label>
  <select id="language">
    <option value="nl">Nederlands</option>
    <option value="fr">Français</option>
    <option value="en">English</option>
  </select>

  <!-- NAAM -->
  <label id="labelFirst"></label>
  <input type="text" name="Voornaam" required>

  <label id="labelLast"></label>
  <input type="text" name="Naam" required>

  <!-- VRAGEN -->
  <div id="questions"></div>

  <!-- TOESTEMMING -->
  <div class="consent">
    <label>
      <input type="checkbox" required>
      <span id="consentText"></span>
    </label>
  </div>

  <!-- SUBJECT -->
  <input type="hidden" name="_subject" id="subject">

  <button type="submit" id="submitBtn" disabled></button>

  <!-- FOOTER -->
  <div class="footer">
    Dienst Radiologie – MRI<br>
    © Ziekenhuis
  </div>

</form>

<script>
/* ===== VRAGEN ===== */
const QUESTIONS = {
  q1: {
    nl: "Heeft u een pacemaker of ingeplante hartdefibrillator?",
    fr: "Avez-vous un pacemaker ou un défibrillateur cardiaque implanté ?",
    en: "Do you have a pacemaker or implanted cardiac defibrillator?"
  },
  q2: {
    nl: "Heeft u een neurostimulator, pijnpomp of insulinepomp?",
    fr: "Avez-vous un neurostimulateur, une pompe à douleur ou une pompe à insuline ?",
    en: "Do you have a neurostimulator, pain pump or insulin pump?"
  },
  q3: {
    nl: "Heeft u een binnenoorimplantaat of cochleair implantaat?",
    fr: "Avez-vous un implant cochléaire ou un implant de l’oreille interne ?",
    en: "Do you have a cochlear or inner ear implant?"
  },
  q4: {
    nl: "Heeft u een metalen fragment (bv. metaalsplinter) in uw oog?",
    fr: "Avez-vous un fragment métallique (ex. éclat de métal) dans l’œil ?",
    en: "Do you have a metal fragment (e.g. metal splinter) in your eye?"
  },
  q5: {
    nl: "Heeft u een hoorapparaat?",
    fr: "Portez-vous un appareil auditif ?",
    en: "Do you wear a hearing aid?"
  },
  q6: {
    nl: "Heeft u ooit een rugoperatie ondergaan?",
    fr: "Avez-vous déjà subi une operatie van de rug?",
    en: "Have you ever had back surgery?"
  }
};

/* ===== UI TEKST ===== */
const UI = {
  nl: {
    title: "MRI vragenlijst",
    first: "Voornaam",
    last: "Naam",
    submit: "Verzenden",
    consent:
      "Ik verklaar dat ik deze vragenlijst zelf en naar waarheid heb ingevuld en ga akkoord met het gebruik van deze gegevens voor medische doeleinden.",
    yes: "Ja",
    no: "Nee",
    lang: "Taal"
  },
  fr: {
    title: "Questionnaire IRM",
    first: "Prénom",
    last: "Nom",
    submit: "Envoyer",
    consent:
      "Je déclare avoir rempli ce questionnaire personnellement et honnêtement et j’accepte l’utilisation de ces données à des fins médicales.",
    yes: "Oui",
    no: "Non",
    lang: "Langue"
  },
  en: {
    title: "MRI questionnaire",
    first: "First name",
    last: "Last name",
    submit: "Submit",
    consent:
      "I declare that I have completed this questionnaire personally and truthfully and agree to the use of this data for medical purposes.",
    yes: "Yes",
    no: "No",
    lang: "Language"
  }
};

const form = document.getElementById("mriForm");
const questionsDiv = document.getElementById("questions");
const submitBtn = document.getElementById("submitBtn");

/* ===== RENDER ===== */
function render(lang) {
  const t = UI[lang];
  document.documentElement.lang = lang;

  document.getElementById("title").innerText = t.title;
  document.getElementById("labelFirst").innerText = t.first;
  document.getElementById("labelLast").innerText = t.last;
  document.getElementById("submitBtn").innerText = t.submit;
  document.getElementById("consentText").innerText = t.consent;
  document.getElementById("labelLang").innerText = t.lang;

  questionsDiv.innerHTML = "";

  for (const key in QUESTIONS) {
    const nlQuestion = QUESTIONS[key].nl;
    const shownQuestion = QUESTIONS[key][lang];

    questionsDiv.innerHTML += `
      <div class="question">${shownQuestion}</div>
      <div class="options">
        <label><input type="radio" name="${nlQuestion}" value="${t.yes}" required> ${t.yes}</label>
        <label><input type="radio" name="${nlQuestion}" value="${t.no}"> ${t.no}</label>
      </div>`;
  }
}

/* ===== TAALKEUZE ===== */
document.getElementById("language").addEventListener("change", e => {
  render(e.target.value);
  checkComplete();
});

/* ===== VALIDATIE ===== */
function checkComplete() {
  const radios = form.querySelectorAll("input[type=radio]");
  const checkbox = form.querySelector("input[type=checkbox]");
  const groups = {};

  radios.forEach(r => groups[r.name] = false);
  radios.forEach(r => { if (r.checked) groups[r.name] = true; });

  if (Object.values(groups).every(Boolean) && checkbox.checked) {
    submitBtn.disabled = false;
    submitBtn.classList.add("enabled");
  } else {
    submitBtn.disabled = true;
    submitBtn.classList.remove("enabled");
  }
}

form.addEventListener("change", checkComplete);

/* ===== SUBMIT ===== */
form.addEventListener("submit", () => {
  const radios = form.querySelectorAll("input[type=radio]");

  radios.forEach(r => {
    if (r.checked) {
      const v = r.value.toLowerCase();
      r.value = (v === "yes" || v === "oui" || v === "ja") ? "JA" : "Nee";
    }
  });

  const first = form.elements["Voornaam"].value;
  const last = form.elements["Naam"].value;
  document.getElementById("subject").value =
    "MRI vragenlijst – " + first + " " + last;
});

/* INIT */
render("nl");
</script>

</body>
</html>
