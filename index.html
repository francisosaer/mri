<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MRI vragenlijst</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f7f7f7;
  padding: 20px;
}

form {
  max-width: 650px;
  margin: auto;
  background: #fff;
  padding: 25px;
  border-radius: 10px;
}

h1 {
  text-align: center;
  margin-bottom: 20px;
}

label {
  display: block;
  margin-top: 15px;
}

select, input[type="text"] {
  width: 100%;
  padding: 10px;
  font-size: 16px;
  margin-top: 5px;
}

.question {
  font-weight: bold;
  font-size: 17px;
  margin-top: 25px;
}

.options {
  display: flex;
  gap: 30px;
  margin-top: 8px;
}

.options label {
  font-weight: normal;
}

button {
  margin-top: 30px;
  width: 100%;
  padding: 14px;
  font-size: 18px;
  border: none;
  border-radius: 6px;
  background: #ccc;
  color: #666;
}

button.enabled {
  background: #007bff;
  color: #fff;
  cursor: pointer;
}

.consent {
  margin-top: 25px;
  font-size: 14px;
}
</style>
</head>

<body>

<form id="mriForm" action="https://formspree.io/f/mdaaznay" method="POST">

<h1 id="title">MRI vragenlijst</h1>

<label id="labelLanguage">Taal / Langue / Language</label>
<select id="language">
  <option value="nl">Nederlands</option>
  <option value="fr">Français</option>
  <option value="en">English</option>
</select>

<label id="labelFirst">Voornaam</label>
<input type="text" name="Voornaam" required>

<label id="labelLast">Naam</label>
<input type="text" name="Naam" required>

<div id="questions"></div>

<div class="consent">
  <label>
    <input type="checkbox" required>
    <span id="consentText">
      Ik verklaar dat ik deze vragenlijst zelf en naar waarheid heb ingevuld
      en ga akkoord met het gebruik van deze gegevens voor medische doeleinden.
    </span>
  </label>
</div>

<input type="hidden" name="_subject" id="subject">

<button type="submit" id="submitBtn" disabled>Verzenden</button>
</form>

<script>
const translations = {
  nl: {
    title: "MRI vragenlijst",
    first: "Voornaam",
    last: "Naam",
    submit: "Verzenden",
    consent: "Ik verklaar dat ik deze vragenlijst zelf en naar waarheid heb ingevuld en ga akkoord met het gebruik van deze gegevens voor medische doeleinden.",
    yes: "Ja",
    no: "Nee",
    questions: [
      "Heeft u een pacemaker of ingeplante hartdefibrillator?",
      "Heeft u een neurostimulator, pijnpomp of insulinepomp?",
      "Heeft u een binnenoorimplantaat of cochleair implantaat?",
      "Heeft u een metalen fragment (bv. metaalsplinter) in uw oog?",
      "Heeft u een hoorapparaat?",
      "Heeft u ooit een rugoperatie ondergaan?"
    ]
  },
  fr: {
    title: "Questionnaire IRM",
    first: "Prénom",
    last: "Nom",
    submit: "Envoyer",
    consent: "Je déclare avoir rempli ce questionnaire personnellement et honnêtement et j’accepte l’utilisation de ces données à des fins médicales.",
    yes: "Oui",
    no: "Non"
  },
  en: {
    title: "MRI questionnaire",
    first: "First name",
    last: "Last name",
    submit: "Submit",
    consent: "I declare that I have completed this questionnaire personally and truthfully and agree to the use of this data for medical purposes.",
    yes: "Yes",
    no: "No"
  }
};

const form = document.getElementById("mriForm");
const questionsDiv = document.getElementById("questions");
const submitBtn = document.getElementById("submitBtn");
const languageSelect = document.getElementById("language");

function render(lang) {
  const t = translations[lang];
  document.documentElement.lang = lang;
  document.getElementById("title").innerText = t.title;
  document.getElementById("labelFirst").innerText = t.first;
  document.getElementById("labelLast").innerText = t.last;
  document.getElementById("submitBtn").innerText = t.submit;
  document.getElementById("consentText").innerText = t.consent;

  questionsDiv.innerHTML = "";

  translations.nl.questions.forEach(q => {
    questionsDiv.innerHTML += `
      <div class="question">${q}</div>
      <div class="options">
        <label><input type="radio" name="${q}" value="${t.yes}" required> ${t.yes}</label>
        <label><input type="radio" name="${q}" value="${t.no}"> ${t.no}</label>
      </div>`;
  });
}

languageSelect.addEventListener("change", e => render(e.target.value));
render("nl");

function checkComplete() {
  const radios = form.querySelectorAll("input[type=radio]");
  const checkbox = form.querySelector("input[type=checkbox]");
  const groups = {};

  radios.forEach(r => groups[r.name] = false);
  radios.forEach(r => { if (r.checked) groups[r.name] = true; });

  if (Object.values(groups).every(Boolean) && checkbox.checked) {
    submitBtn.disabled = false;
    submitBtn.classList.add("enabled");
  } else {
    submitBtn.disabled = true;
    submitBtn.classList.remove("enabled");
  }
}

form.addEventListener("change", checkComplete);

form.addEventListener("submit", () => {
  const radios = form.querySelectorAll("input[type=radio]");
  radios.forEach(r => {
    if (r.checked && r.value.toLowerCase().startsWith("ja")) {
      r.value = "JA";
    }
  });

  const first = form.elements["Voornaam"].value;
  const last = form.elements["Naam"].value;
  document.getElementById("subject").value =
    "MRI vragenlijst – " + first + " " + last;
});
</script>

</body>
</html>

