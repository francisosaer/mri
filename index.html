<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MRI Veiligheidsvragenlijst</title>
<style>
body {
  font-family: Arial, sans-serif;
  max-width: 600px;
  margin: auto;
  padding: 20px;
}

h1 {
  text-align: center;
}

label {
  display: block;
  margin-top: 15px;
  font-weight: bold;
}

input[type="radio"] {
  margin-right: 8px;
}

button {
  margin-top: 20px;
  padding: 12px;
  font-size: 18px;
  width: 100%;
  cursor: pointer;
}
</style>
</head>
<body>

<h1>MRI Veiligheidsvragenlijst</h1>

<form action="https://formspree.io/f/mdaaznay" method="POST" id="mriForm">

  <!-- Verborgen veld voor dynamisch onderwerp -->
  <input type="hidden" name="_subject" id="subject">

  <label>Naam</label>
  <input type="text" name="Naam" required>

  <label>Voornaam</label>
  <input type="text" name="Voornaam" required>

  <label>Prothese in lichaam</label>
  <input type="radio" name="Prothese" value="Ja" required> Ja
  <input type="radio" name="Prothese" value="Nee"> Nee

  <label>PM</label>
  <input type="radio" name="PM" value="Ja" required> Ja
  <input type="radio" name="PM" value="Nee"> Nee

  <label>Pijnpomp</label>
  <input type="radio" name="Pijnpomp" value="Ja" required> Ja
  <input type="radio" name="Pijnpomp" value="Nee"> Nee

  <label>Metaalsplinters in oog</label>
  <input type="radio" name="Metaalsplinters" value="Ja" required> Ja
  <input type="radio" name="Metaalsplinters" value="Nee"> Nee

  <label>Zwanger</label>
  <input type="radio" name="Zwanger" value="Ja" required> Ja
  <input type="radio" name="Zwanger" value="Nee"> Nee

  <button type="submit">Verzenden</button>
</form>

<script>
// Bij submit: dynamisch onderwerp + JA markering
document.getElementById("mriForm").addEventListener("submit", function(e){
    const naam = document.querySelector("input[name='Naam']").value;
    const voornaam = document.querySelector("input[name='Voornaam']").value;

    // Dynamisch mailonderwerp
    document.getElementById("subject").value = `MRI vragenlijst â€“ ${voornaam} ${naam}`;

    // Vetgedrukt JA voor kritieke velden
    const pmRadios = document.getElementsByName("PM");
    const pijnRadios = document.getElementsByName("Pijnpomp");
    const metaRadios = document.getElementsByName("Metaalsplinters");

    function markJa(radios){
        for(let r of radios){
            if(r.checked && r.value === "Ja"){
                r.value = "JA"; // valt op in e-mail
            }
        }
    }

    markJa(pmRadios);
    markJa(pijnRadios);
    markJa(metaRadios);
});
</script>

</body>
</html>
